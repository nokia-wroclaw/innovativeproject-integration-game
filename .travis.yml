matrix:
  include:
    sudo: false
    - language: node_js
      node_js:
       - "8"
      before_script:
        - cd Frontend
      script:
        - npm install
        - npm test
        - npm run build

    - language: android
      jdk: oraclejdk8
      android:
        components:
          - tools
          - android-25
          - build-tools-25.0.3
      before_install:
        - mkdir "$ANDROID_HOME/licenses" || true
        - cp ./licenses/* "$ANDROID_HOME/licenses/"
      before_script:
        - cd Mobile
        - echo no | android create avd --force -n test -t android-26 --abi armeabi-v7a
        - emulator -avd test -no-skin -no-audio -no-window &
        - android-wait-for-emulator
        - adb shell input keyevent 82 &
      script:
        - ./gradlew build connectedCheck

notifications:
 slack: innoprojectsummer2018:Me0KNpSZ1ES1OnWrwTUoD2Y7
